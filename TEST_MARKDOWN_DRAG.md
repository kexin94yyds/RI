# Markdown 拖拽功能测试指南

## 测试前准备

1. 确保应用已启动
2. 确保历史记录列表中有一些测试数据
3. 准备一个可以接受文本拖放的应用（如：文本编辑器、微信、Slack 等）

## 测试步骤

### 测试 1：拖拽普通文本

1. 在历史记录中保存一些普通文本
   - 例如："这是一个测试文本"
2. 拖拽该列表项到文本编辑器
3. **预期结果**：文本应该原样粘贴

### 测试 2：拖拽 URL 链接

1. 保存一个 URL 到历史记录
   - 例如："https://github.com"
2. 拖拽到文本编辑器
3. **预期结果**：应该转换为 Markdown 格式
   ```markdown
   [https://github.com](https://github.com)
   ```

### 测试 3：拖拽多行文本

1. 保存包含多行的文本
   ```
   第一行
   第二行
   第三行
   ```
2. 拖拽到文本编辑器
3. **预期结果**：应该转换为代码块格式
   ````markdown
   ```
   第一行
   第二行
   第三行
   ```
   ````

### 测试 4：拖拽富文本笔记

1. 使用笔记功能（Cmd+M）创建一个富文本笔记
   - 包含标题、粗体、列表等格式
2. 拖拽该笔记项到文本编辑器
3. **预期结果**：应该转换为标准 Markdown 格式

### 测试 5：拖拽图片

1. 保存一张图片到历史记录
2. 拖拽到文本编辑器
3. **预期结果**：应该显示为 Markdown 图片链接
   ```markdown
   ![filename.png](file:///path/to/image.png)
   ```

### 测试 6：视觉反馈

1. 开始拖拽任意列表项
2. **预期结果**：
   - 列表项变为半透明
   - 显示蓝色边框
   - 状态栏显示"正在拖拽 Markdown 内容..."
3. 完成拖拽后
   - 样式恢复正常

### 测试 7：跨应用拖拽

测试以下应用的兼容性：

- [ ] 文本编辑器（TextEdit）
- [ ] 代码编辑器（VSCode、Sublime Text）
- [ ] 笔记应用（Obsidian、Notion、Bear）
- [ ] 聊天软件（微信、Slack、Discord）
- [ ] 邮件客户端
- [ ] 浏览器（Chrome、Safari）

## 已知限制

1. **图片显示**：某些应用可能无法直接显示 `file://` 协议的图片
2. **富文本转换**：复杂的 HTML 样式可能会在转换中丢失
3. **应用支持**：部分应用可能不支持拖放功能

## 调试

如果功能不工作，检查以下内容：

1. 打开开发者工具（应用已默认打开）
2. 查看控制台是否有错误信息
3. 检查 `dragstart` 和 `dragend` 事件是否正常触发
4. 确认目标应用支持文本拖放

## 测试结果记录

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 拖拽普通文本 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 拖拽 URL 链接 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 拖拽多行文本 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 拖拽富文本笔记 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 拖拽图片 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 视觉反馈 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |
| 跨应用兼容性 | ⬜ 未测试 / ✅ 通过 / ❌ 失败 | |

---

**测试人员**: _______________
**测试日期**: _______________
**应用版本**: _______________









