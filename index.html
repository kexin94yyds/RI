<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Replace-Information</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- 主容器：三栏布局 -->
  <div class="app-container">
    <!-- 左侧边栏：模式列表 -->
    <div class="sidebar">
      <div class="sidebar-header">
        <button id="all-history-btn" class="sidebar-item all-history" title="查看全部历史">
          历史记录
        </button>
        <button id="add-mode-btn" class="sidebar-item add-mode" title="添加新模式">
          添加模式
        </button>
      </div>
      <div class="sidebar-content" id="modes-sidebar">
        <!-- 模式列表将动态生成 -->
      </div>
    </div>

    <!-- 中间历史记录面板 -->
    <div class="history-panel">
      <!-- 顶部搜索栏 -->
      <div class="search-bar">
        <div class="search-input-wrapper">
          <input type="text" id="search-input" class="search-input" placeholder="搜索内容...">
          <button id="clear-search-btn" class="clear-search-btn" style="display: none;">✕</button>
        </div>
      </div>

      <!-- 剪贴板预览区 -->
      <div class="clipboard-preview">
        <div class="clipboard-label">剪贴板内容</div>
        <div id="clipboard-word" class="clipboard-content">（剪贴板内容将显示在这里）</div>
        <button id="save-btn" class="clipboard-save-btn">保存</button>
      </div>

      <!-- 历史记录列表 -->
      <div class="history-list-area">
        <div id="history-list" class="history-list">
          <!-- 历史记录将动态生成 -->
        </div>
        <div id="empty-state" class="empty-state" style="display: none;">
          <div class="empty-icon">📝</div>
          <div class="empty-text">暂无内容</div>
          <div class="empty-hint">保存剪贴板内容开始记录</div>
        </div>
      </div>
    </div>

    <!-- 右侧内容预览/详情区 -->
    <div class="preview-panel">
      <!-- 顶部操作按钮 -->
      <div class="preview-actions">
        <button id="pin-btn" class="action-btn icon-btn" title="置顶窗口" aria-label="置顶">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="pin-icon lucide lucide-pin rotate-45"><line x1="12" x2="12" y1="17" y2="22"></line><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"></path></svg>
        </button>
        <button id="import-btn" class="action-btn" title="导入内容">导入</button>
        <button id="export-btn" class="action-btn" title="导出为TXT">导出</button>
      </div>
      
      <!-- 预览内容区 -->
      <div class="preview-content-area">
        <div id="preview-content" class="preview-content">
          <div class="preview-empty">
            选择一个项目查看详情
          </div>
        </div>
      </div>
      
      <!-- 隐藏的按钮，用于保持功能但不显示 -->
      <div style="display: none;">
        <button id="review-btn"></button>
        <button id="clear-all-btn"></button>
        <div id="save-status"></div>
      </div>
    </div>
  </div>

  <!-- 模式管理对话框 -->
  <div id="mode-dialog" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="mode-dialog-title">添加模式</h3>
        <button id="close-mode-dialog" class="close-btn">✕</button>
      </div>
      <div class="modal-body">
        <div class="input-group">
          <label for="mode-name-input">模式名称：</label>
          <input type="text" id="mode-name-input" placeholder="例如：学习、编程、工作..." maxlength="20">
        </div>
        <div class="modal-buttons">
          <button id="cancel-mode-btn" class="btn-secondary">取消</button>
          <button id="save-mode-btn" class="btn-primary">保存</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 复习对话框 -->
  <div id="review-dialog" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>复习模式</h3>
        <button id="close-review-dialog" class="close-btn">✕</button>
      </div>
      <div class="modal-body">
        <div id="review-word" class="review-word"></div>
        <div class="modal-buttons">
          <button id="remember-btn" class="btn-secondary">记住了</button>
          <button id="next-btn" class="btn-primary">下一个</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 导入对话框 -->
  <div id="import-dialog" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>导入内容</h3>
        <button id="close-import-dialog" class="close-btn">✕</button>
      </div>
      <div class="modal-body">
        <div class="import-hint" style="font-size: 12px; color: #666; margin-bottom: 8px;">
          💡 按空行分隔不同的内容项（一个空行表示一项内容的结束）
        </div>
        <textarea id="import-text" class="import-textarea" placeholder="粘贴内容列表，用空行分隔每个项目..." rows="8"></textarea>
        <div class="modal-buttons">
          <button id="clear-mode-btn" class="btn-danger">清空当前模式</button>
          <input type="file" id="file-input" accept=".txt" style="display:none;">
          <button id="file-import-btn" class="btn-secondary">选择文件</button>
          <button id="confirm-import-btn" class="btn-primary">确定导入</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
