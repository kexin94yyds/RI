# Markdown 拖拽功能说明

## 功能概述

现在，历史记录列表中的每个项目都支持拖拽导出为 Markdown 格式！您可以直接将列表项拖拽到其他应用程序（如聊天软件、文本编辑器、笔记应用等），内容会自动转换为 Markdown 格式。

## 使用方法

1. **拖拽列表项**
   - 在历史记录列表中，将鼠标悬停在任意列表项上
   - 按住鼠标左键并拖动
   - 拖拽到目标应用程序（如微信、Slack、VSCode 等）
   - 松开鼠标，内容会自动以 Markdown 格式插入

2. **视觉反馈**
   - 拖拽时，列表项会变为半透明并显示蓝色边框
   - 底部状态栏会显示"正在拖拽 Markdown 内容..."提示

## Markdown 转换规则

### 1. 纯文本内容

#### 单行文本
```
普通文本
```
直接输出为纯文本

#### URL 链接
```
https://example.com
```
转换为：
```markdown
[https://example.com](https://example.com)
```

#### 多行文本
```
第一行
第二行
第三行
```
转换为代码块：
````markdown
```
第一行
第二行
第三行
```
````

### 2. 图片内容

#### 本地图片
转换为：
```markdown
![文件名.png](file:///path/to/image.png)
```

#### DataURL 图片
转换为：
```markdown
![图片](data:image/png;base64,iVBORw0KGgo...)
```

### 3. 富文本内容

富文本会自动转换为标准 Markdown 格式：

#### HTML → Markdown 转换表

| HTML 元素 | Markdown 格式 |
|-----------|--------------|
| `<h1>标题</h1>` | `# 标题` |
| `<h2>标题</h2>` | `## 标题` |
| `<h3>标题</h3>` | `### 标题` |
| `<strong>粗体</strong>` | `**粗体**` |
| `<em>斜体</em>` | `*斜体*` |
| `<a href="url">链接</a>` | `[链接](url)` |
| `<img src="url" alt="描述">` | `![描述](url)` |
| `<li>项目</li>` | `- 项目` |
| `<code>代码</code>` | `` `代码` `` |
| `<pre>代码块</pre>` | ` ```代码块``` ` |

## 应用场景

### 1. 分享到聊天软件
- 拖拽文本到微信/Slack/Discord
- 链接会自动格式化为 Markdown 链接
- 多行文本会保留格式

### 2. 导出到笔记应用
- 拖拽到 Obsidian/Notion/Typora
- 富文本内容会转换为标准 Markdown
- 图片会保留引用

### 3. 粘贴到代码编辑器
- 拖拽到 VSCode/Sublime Text
- 代码片段会保留格式
- 注释会正确转换

### 4. 快速编写文档
- 拖拽到任何 Markdown 编辑器
- 自动格式化，无需手动转换
- 支持混合内容（文本+图片+链接）

## 技术特性

- **自动格式识别**：根据内容类型自动选择最佳 Markdown 格式
- **智能转换**：HTML 富文本自动转换为 Markdown
- **跨应用兼容**：支持所有接受文本拖放的应用程序
- **无损转换**：保留原始内容的结构和格式

## 注意事项

1. **图片路径**：本地图片使用 `file://` 协议，部分应用可能无法直接显示
2. **富文本转换**：复杂的 HTML 样式可能会在转换中丢失
3. **应用支持**：目标应用需要支持文本拖放功能
4. **权限要求**：某些应用可能需要额外权限才能接受拖放内容

## 快捷键配合使用

结合其他快捷键，可以更高效地使用：

| 操作 | 快捷键 | 说明 |
|------|--------|------|
| 保存内容 | `Cmd+U` | 快速保存剪贴板内容 |
| 显示窗口 | `Shift+Cmd+U` | 显示/隐藏主窗口 |
| 搜索内容 | `输入文字` | 即时搜索 |
| 复制内容 | `Enter` | 将选中项复制到剪贴板 |
| **拖拽导出** | **鼠标拖动** | **以 Markdown 格式拖拽** |

## 示例

### 示例 1：拖拽链接到聊天软件

**原始内容：**
```
https://github.com/electron/electron
```

**拖拽到微信后：**
```markdown
[https://github.com/electron/electron](https://github.com/electron/electron)
```

### 示例 2：拖拽富文本笔记到 Obsidian

**原始内容（富文本）：**
```html
<h2>项目计划</h2>
<p>需要完成以下任务：</p>
<ul>
  <li>编写文档</li>
  <li>测试功能</li>
  <li><strong>发布版本</strong></li>
</ul>
```

**拖拽后的 Markdown：**
```markdown
## 项目计划

需要完成以下任务：

- 编写文档
- 测试功能
- **发布版本**
```

### 示例 3：拖拽代码片段到 VSCode

**原始内容：**
```
function hello() {
  console.log("Hello World!");
}
```

**拖拽后：**
````markdown
```
function hello() {
  console.log("Hello World!");
}
```
````

## 更新日志

- **v2.1.0** (2024-11-07)
  - ✨ 新增：支持拖拽导出为 Markdown 格式
  - 🎨 优化：添加拖拽视觉反馈
  - 📝 功能：支持文本、图片、富文本的智能转换

---

**提示**：此功能让您的工作流更加流畅，可以无缝地在不同应用之间传递内容！

